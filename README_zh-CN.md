# Deskflow-HID: ä¸ç§»åŠ¨è®¾å¤‡å…±äº«é”®ç›˜å’Œé¼ æ ‡

![License](https://img.shields.io/github/license/lockekk/deskflow-hid?style=flat-square) ![Release](https://img.shields.io/github/v/tag/lockekk/deskflow-hid?style=flat-square)

[ English ](README.md) | **[ ç®€ä½“ä¸­æ–‡ ]**

---

<p align="center">
  <img src="doc/images/deskflow-hid-post.png" width="800" alt="Deskflow-HID Post">
</p>

## ç®€ä»‹

Deskflow-HID æ˜¯ [Deskflow](https://github.com/deskflow/deskflow) é¡¹ç›®çš„é«˜æ€§èƒ½å¼€æºæ‰©å±•ã€‚Deskflow-HID æ”¯æŒ **Linuxã€Windows å’Œ macOS**ï¼Œä¸“æ³¨äºä¸åŒ…æ‹¬ iPadã€iPhone å’Œ Android æ‰‹æœºåœ¨å†…çš„ç§»åŠ¨è®¾å¤‡å…±äº«é”®ç›˜å’Œé¼ æ ‡è¾“å…¥ã€‚

## æ‰©å±• Deskflow ç”Ÿæ€ç³»ç»Ÿï¼šç§»åŠ¨é›†æˆ

ä¼ ç»Ÿçš„è½¯ä»¶ KVM è§£å†³æ–¹æ¡ˆï¼ˆå¦‚ Deskflowï¼‰åœ¨è®¡ç®—æœºä¹‹é—´è¡¨ç°å‡ºè‰²ï¼Œä½†æ— æ³•æ”¯æŒ iPadOS æˆ– Android ç­‰ç§»åŠ¨å¹³å°ã€‚Deskflow-HID é€šè¿‡å°† Deskflow çš„åŠŸèƒ½æ‰©å±•åˆ°è¿™äº›è®¾å¤‡æ¥å¼¥è¡¥è¿™ä¸€å·®è·ï¼š
- **iOS å’Œ Android** å‡ºäºå®‰å…¨åŸå› ï¼Œä¸å…è®¸åå°åº”ç”¨æ‹¦æˆªæˆ–æ¨¡æ‹Ÿç³»ç»Ÿçº§çš„ HIDï¼ˆäººæœºæ¥å£è®¾å¤‡ï¼‰äº‹ä»¶ã€‚
- **è¿œç¨‹æ¡Œé¢** è§£å†³æ–¹æ¡ˆé€šå¸¸å­˜åœ¨é«˜å»¶è¿Ÿï¼Œå¹¶ä¸”ä¾èµ–äºç½‘ç»œç¨³å®šæ€§ï¼Œè¿™ä¼šå½±å“æµç•…çš„å®æ—¶å¤–è®¾å…±äº«ã€‚

## è§£å†³æ–¹æ¡ˆï¼šç¡¬ä»¶è¾…åŠ©æ¡¥æ¥

Deskflow-HID ä½¿ç”¨ç»æµå®æƒ ï¼ˆAliExpress ä¸Šçº¦ 2.5 ç¾å…ƒï¼‰çš„ **ESP32-C3 Supermini** å¼€å‘æ¿ä½œä¸ºç‰©ç†ç¡¬ä»¶æ¡¥æ¥å™¨ã€‚å®ƒå°† Deskflow äº‹ä»¶è½¬æ¢ä¸º **ä½åŠŸè€—è“ç‰™ (BLE) HID**ï¼Œè®©æ‚¨èƒ½å¤Ÿé€šè¿‡æ— çº¿æ–¹å¼ä¸ä»»ä½•ç§»åŠ¨è®¾å¤‡å…±äº«é”®ç›˜å’Œé¼ æ ‡ã€‚

<br/> <img src="doc/images/esp32-c3-supermini.png" height="120" alt="ESP32-C3 Super Mini"> <br/> <sub>å›¾ç‰‡æ¥æº: [Josselin Hefti](https://www.printables.com/model/1360390-esp32-c3-super-mini-model)</sub>

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

|                       ä¸»ç•Œé¢ (Main UI)                        |                         è®¾å¤‡é…ç½® (Device Configuration)                          |
| :-----------------------------------------------------------: | :------------------------------------------------------------------------------: |
| <img src="doc/images/main_ui.png" height="300" alt="Main UI"> | <img src="doc/images/device_config.png" height="300" alt="Device Configuration"> |

## ä¸»è¦ç‰¹æ€§

- **å…é©±åŠ¨**: æ ‡å‡†è“ç‰™ HID åè®®ï¼Œç›®æ ‡è®¾å¤‡æ— éœ€å®‰è£…åº”ç”¨æˆ–é©±åŠ¨ã€‚
- **ä½å»¶è¿Ÿ**: ç›´æ¥ BLE é€šä¿¡ã€‚
- **è·¨å¹³å°**: æ”¯æŒ **Windows, macOS, Linux** ä¸»æœºã€‚å…¼å®¹å®˜æ–¹ä¸Šæ¸¸ Deskflow å®¢æˆ·ç«¯ã€‚
- **å¤šè®¾å¤‡**: æ”¯æŒè¿æ¥å¹¶åˆ‡æ¢æœ€å¤š **6 å°ç§»åŠ¨è®¾å¤‡**ã€‚
- **åª’ä½“é”®**: æ”¯æŒæ’­æ”¾/æš‚åœã€éŸ³é‡è°ƒèŠ‚å’Œé™éŸ³ã€‚


> [!NOTE]
> **å‰ªè´´æ¿å…±äº«**: ç›®å‰ä¸æ”¯æŒ Deskflow çš„ç½‘ç»œå‰ªè´´æ¿å…±äº«ï¼Œä½†åœ¨æœªæ¥çš„æ›´æ–°ä¸­ä¼šæ”¯æŒã€‚

## ğŸ“¥ å®‰è£…æŒ‡å—

æˆ‘ä»¬æä¾›é€‚ç”¨äºæ‰€æœ‰ä¸»æµå¹³å°çš„é¢„ç¼–è¯‘å®‰è£…åŒ…ã€‚è¯·é€‰æ‹©é€‚åˆæ‚¨ç¯å¢ƒçš„ç‰ˆæœ¬ã€‚

### macOS (é€šç”¨ç‰ˆæœ¬)
é€‚ç”¨äº macOS 12+ (Intel & Apple Silicon)ã€‚

#### é€‰é¡¹ A: Homebrew (å·²ç¦ç”¨ - å³å°†æ”¯æŒ)
æ­¤é€‰é¡¹ç›®å‰å·²ç¦ç”¨ï¼Œå°†åœ¨æœªæ¥çš„æ›´æ–°ä¸­æ”¯æŒã€‚

<!--
```bash
# 1. æ·»åŠ  Tap ä»“åº“
brew tap lockekk/deskflow

# 2. å®‰è£…
brew install --cask deskflow-hid

# å¸è½½
brew uninstall deskflow-hid

# æ›´æ–°
brew upgrade deskflow-hid
```
-->

#### é€‰é¡¹ B: æ‰‹åŠ¨å®‰è£…
1.  ä» [Releases](https://github.com/lockekk/deskflow-hid/releases) é¡µé¢ä¸‹è½½æœ€æ–°çš„ `.dmg` æ–‡ä»¶ã€‚
2.  æ‰“å¼€ `deskflow-hid-1.25.0-macos-universal.dmg` å¹¶å°†åº”ç”¨ç¨‹åºæ‹–å…¥ `Applications` æ–‡ä»¶å¤¹ã€‚
3.  **æ³¨æ„**: å¦‚æœé‡åˆ°â€œå·²æŸåâ€æˆ–â€œæ— æ³•éªŒè¯â€çš„é”™è¯¯æç¤ºï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
    ```bash
    xattr -cr /Applications/Deskflow-HID.app
    ```

> [!IMPORTANT]
> **æƒé™ä¸è®¾ç½®**:
> - **è¾…åŠ©åŠŸèƒ½**: æ‚¨å¿…é¡»åœ¨â€œéšç§ä¸å®‰å…¨æ€§â€ä¸­æˆäºˆ **Deskflow-HID** åº”ç”¨ç¨‹åºå’Œ **deskflow-hid** è¿›ç¨‹â€œè¾…åŠ©åŠŸèƒ½â€æƒé™ã€‚
> - **macOS Sequoia**: æ‚¨å¯èƒ½è¿˜éœ€è¦åœ¨â€œæœ¬åœ°ç½‘ç»œâ€è®¾ç½®ä¸­å…è®¸ Deskflow-HIDã€‚
> - **å‡çº§**: å¦‚æœæ‚¨æ­£åœ¨å‡çº§ä¸”å…è®¸åˆ—è¡¨ä¸­å·²å­˜åœ¨æ—§ç‰ˆæ¡ç›®ï¼Œæ‚¨å¯èƒ½éœ€è¦**æ‰‹åŠ¨ç§»é™¤**å®ƒä»¬ï¼Œç„¶åé‡æ–°æˆäºˆæ–°ç‰ˆæœ¬è¾…åŠ©åŠŸèƒ½æƒé™ã€‚

### Windows
**ä¾èµ–é¡¹**: ä½¿ç”¨å‰è¯·ç¡®ä¿å·²å®‰è£… **Microsoft Visual C++ Redistributable v14.44 æˆ–æ›´é«˜ç‰ˆæœ¬**ã€‚

æä¾›ä¾¿æºç‰ˆ (æ¨è) å’Œå®‰è£…ç‰ˆã€‚

-   **ä¾¿æºç‰ˆ (.7z)**: **æ¨è**ã€‚è§£å‹åç›´æ¥è¿è¡Œ `Deskflow-HID.exe`ã€‚
-   **å®‰è£…ç‰ˆ (.msi)**: ä¸‹è½½ååŒå‡»å®‰è£…å³å¯ã€‚

### Linux
æˆ‘ä»¬æ”¯æŒé€šè¿‡ AppImage å’Œ Flatpak åœ¨ä¸»æµå‘è¡Œç‰ˆä¸Šè¿è¡Œã€‚

> [!IMPORTANT]
> **æƒé™**: ä¸ºäº†è®¿é—® USB è®¾å¤‡ï¼Œæ‚¨çš„ç”¨æˆ· **å¿…é¡»** æ‹¥æœ‰è®¿é—®ä¸²å£çš„æƒé™ï¼ˆé€šå¸¸æ˜¯ `dialout` ç”¨æˆ·ç»„ï¼‰ã€‚
> è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç„¶å **æ³¨é”€å¹¶é‡æ–°ç™»å½•**ï¼ˆæˆ– **é‡å¯**ï¼‰ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š
> ```bash
> sudo usermod -a -G dialout $USER
> ```

#### é€‰é¡¹ A: AppImage (é€šç”¨)
é€‚ç”¨äºè¾ƒæ–°çš„ Linux å‘è¡Œç‰ˆ (Ubuntu 22.04+, Fedora 36+ ç­‰)ã€‚

1.  ä» [Releases](https://github.com/lockekk/deskflow-hid/releases) ä¸‹è½½ `.AppImage` æ–‡ä»¶ã€‚
2.  èµ‹äºˆå¯æ‰§è¡Œæƒé™:
    ```bash
    chmod +x deskflow-hid-1.25.0-x86_64.AppImage
    ```
3.  è¿è¡Œ:
    ```bash
    ./deskflow-hid-1.25.0-x86_64.AppImage
    ```

#### é€‰é¡¹ B: Flatpak
è¯·ä»æˆ‘ä»¬çš„ [Releases](https://github.com/lockekk/deskflow-hid/releases) é¡µé¢ä¸‹è½½ `.flatpak` æ–‡ä»¶å¹¶è¿›è¡Œæœ¬åœ°å®‰è£…ã€‚

**1. å‡†å¤‡ Flatpak**
å¦‚æœæ‚¨ä»æœªæ›´ä½¿ç”¨è¿‡ Flatpakï¼Œè¯·ç¡®ä¿å·²å®‰è£…å®ƒå¹¶æ·»åŠ äº† Flathub ä»“åº“ï¼š
```bash
# Debian/Ubuntu
sudo apt install flatpak

# Fedora
sudo dnf install flatpak

# Arch Linux
sudo pacman -S flatpak

# æ·»åŠ  Flathub ä»“åº“ (æ‰€æœ‰å‘è¡Œç‰ˆ)
flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo
```

**2. å®‰è£…**
```bash
flatpak install --user ./deskflow-1.25.0-linux-x86_64.flatpak
```

**3. ç®¡ç†åº”ç”¨**
```bash
# å¸è½½
flatpak uninstall org.deskflow.hid

# é‡è£… (å…ˆå¸è½½å†å®‰è£…)
flatpak uninstall org.deskflow.hid
flatpak install --user ./deskflow-1.25.0-linux-x86_64.flatpak
```

#### é€‰é¡¹ C: Debian è½¯ä»¶åŒ… (Ubuntu 24+)
é€‚ç”¨äº Ubuntu 24.04 åŠæ›´æ–°ç‰ˆæœ¬ã€‚

1.  ä» [Releases](https://github.com/lockekk/deskflow-hid/releases) ä¸‹è½½ `.deb` æ–‡ä»¶ã€‚
2.  å®‰è£…:
    ```bash
    sudo apt install ./deskflow-hid_1.25.0_ubuntu_24_amd64.deb
    ```
3.  å¸è½½:
    ```bash
    sudo apt remove deskflow-hid
    ```

## é¦–æ¬¡ä½¿ç”¨ä¸çƒ§å½•æŒ‡å—

<div align="center">
  <img src="doc/images/firmware_update.png" width="600" alt="Firmware Flash Tool">
</div>

### 1. å‡†å¤‡ç¡¬ä»¶
æ‚¨éœ€è¦å‡†å¤‡ä¸€ä¸ª **ESP32-C3 Super Mini** å¼€å‘æ¿ã€‚è¿™äº›æ¿å­ä»·æ ¼å®æƒ ï¼Œåœ¨æ·˜å®æˆ–é€Ÿå–é€šå‡å¯è½»æ¾ä¹°åˆ°ã€‚é€šè¿‡ USB å°†å…¶è¿æ¥åˆ°æ‚¨çš„ç”µè„‘ã€‚

### 2. æ‰“å¼€çƒ§å½•å·¥å…·
æ‰“å¼€ Deskflow-HIDï¼Œç‚¹å‡»èœå•æ çš„ **File -> Firmware** è¿›å…¥ç®¡ç†ç•Œé¢ã€‚

### 3. è®¾ç½®æµç¨‹ (é’ˆå¯¹æ–°è®¾å¤‡)
å¯¹äºå…¨æ–°çš„â€œç©ºç™½â€è®¾å¤‡ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1.  **å·¥å‚æ¨¡å¼ (åœ¨çº¿çƒ§å½•)**:
    *   è¿›å…¥ **Factory Mode** (å·¥å‚æ¨¡å¼) æ ‡ç­¾é¡µã€‚
    *   åœ¨ "Online" (åœ¨çº¿) åŒºåŸŸç‚¹å‡» **Flash**ï¼Œçƒ§å½•é€šç”¨çš„å·¥å‚å›ºä»¶ã€‚
    *   è¿™ä¼šè®©è®¾å¤‡å‡†å¤‡å¥½è¿›è¡Œé…å¯¹å’Œæˆæƒã€‚

2.  **ç”³è¯·è®¾å¤‡ä¸“å±åº”ç”¨**:
    *   è¿›å…¥ **Order** (è®¢å•) æ ‡ç­¾é¡µã€‚
    *   é€‰æ‹© **Request 7-Day Free Trial** (ç”³è¯·7å¤©å…è´¹è¯•ç”¨) æˆ– **Purchase Full License** (è´­ä¹°å®Œæ•´æˆæƒ)ã€‚
    *   å¡«å†™æ‚¨çš„ä¿¡æ¯å¹¶ç‚¹å‡» **Email** å‘é€è¯·æ±‚ã€‚
    *   æ‚¨å°†é€šè¿‡é‚®ä»¶æ”¶åˆ°ä¸€ä¸ªä¸“å±çš„ **è®¾å¤‡å›ºä»¶æ–‡ä»¶** (ä¾‹å¦‚ `app_xxxx.uzip`)ã€‚

3.  **å®‰è£…åº”ç”¨ (æ‰‹åŠ¨)**:
    *   è¿›å…¥ **Upgrade Mode** (å‡çº§æ¨¡å¼) æ ‡ç­¾é¡µã€‚
    *   åœ¨ "Manual" (æ‰‹åŠ¨) åŒºåŸŸï¼Œæµè§ˆå¹¶é€‰æ‹©æ‚¨æ”¶åˆ°çš„å›ºä»¶æ–‡ä»¶ã€‚
    *   ç‚¹å‡» **Flash** çƒ§å½•æ‚¨çš„æˆæƒå›ºä»¶ã€‚

### 4. æ›´æ–°ä¸ç»´æŠ¤
*   **å‡çº§**: è¿›å…¥ **Upgrade Mode** (å‡çº§æ¨¡å¼) æ ‡ç­¾é¡µï¼Œç‚¹å‡» **Check for Updates** -> **Flash** å³å¯åœ¨çº¿å‡çº§æœ€æ–°åŠŸèƒ½ã€‚
*   **æ¿€æ´»**: è¿›å…¥ **Activation** (æ¿€æ´») æ ‡ç­¾é¡µæŸ¥çœ‹æˆæƒçŠ¶æ€æˆ–è¾“å…¥æ–°çš„æ¿€æ´»ç ã€‚

## ä»æºç æ„å»º
Deskflow-HID çš„å¼€å‘ç¯å¢ƒå’Œæ„å»ºè¿‡ç¨‹ä¸ä¸Šæ¸¸ [Deskflow é¡¹ç›®](https://github.com/deskflow/deskflow) **å®Œå…¨ç›¸åŒ**ã€‚æ‚¨å¯ä»¥éµå¾ª Windowsã€macOS å’Œ Linux çš„å®˜æ–¹æ„å»ºè¯´æ˜ã€‚

**æ³¨æ„**: å›ºä»¶çƒ§å½•å’Œè®¤è¯æ¨¡å—å±äºå¯é€‰ç»„ä»¶ï¼Œä¸åŒ…å«åœ¨æ ¸å¿ƒå¼€æºé¡¹ç›®ä¸­ã€‚æ¬¢è¿ç”¨æˆ·è‡ªè¡Œæ„å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰å›ºä»¶å®ç°ã€‚

## å¼€æºä¸å•†ä¸šæ¡æ¬¾
Deskflow-HID æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚æ¡Œé¢åº”ç”¨ç¨‹åºå’Œæ¡¥æ¥æ¶æ„å¼€æ”¾ä¾›è´¡çŒ®å’Œç¤¾åŒºæ”¹è¿›ã€‚

- **7 å¤©å…¨åŠŸèƒ½è¯•ç”¨**: å…è´¹ä½“éªŒå›ºä»¶å’Œè½¯ä»¶çš„å…¨éƒ¨åŠŸèƒ½ 7 å¤©ã€‚
- **ç»ˆèº«ä»·å€¼**: è¯•ç”¨æœŸè¿‡åï¼Œä¸€æ¬¡æ€§æ¿€æ´»å³å¯æä¾› **é€šè¿‡ OTA çš„ç»ˆèº«å…è´¹å‡çº§** å’Œ **ç»ˆèº«ç»´æŠ¤**ã€‚

## è‡´è°¢
ç‰¹åˆ«æ„Ÿè°¢ [Deskflow](https://github.com/deskflow/deskflow) é¡¹ç›®åŠå…¶è´¡çŒ®è€…ã€‚æœ¬é¡¹ç›®å»ºç«‹åœ¨ä»–ä»¬çš„åšå®åŸºç¡€ä¹‹ä¸Šã€‚

åŒæ—¶æ„Ÿè°¢ [Josselin Hefti](https://www.printables.com/model/1360390-esp32-c3-super-mini-model) æä¾›çš„ ESP32-C3 Supermini ç²¾ç¾ 3D æ¨¡å‹å›¾ç‰‡ã€‚

## æ”¯æŒä¸è”ç³»
- **é‚®ç®±**: [deskflow.hid@gmail.com](mailto:deskflow.hid@gmail.com)
- **é—®é¢˜åé¦ˆ**: è¯·é€šè¿‡ [GitHub Issues](https://github.com/lockekk/deskflow-hid/issues) æäº¤ Bug æˆ–å»ºè®®ã€‚

## å…è´£å£°æ˜ä¸æ³•å¾‹ä¿¡æ¯
Deskflow-HID æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚ä½†æ˜¯ï¼ŒæŸäº›å¯é€‰åŠŸèƒ½ï¼ˆå¦‚å›ºä»¶ç®¡ç†ï¼‰å¯èƒ½ä¾èµ–äºä¸“æœ‰ç»„ä»¶ã€‚æ ¸å¿ƒåº”ç”¨ç¨‹åºåœ¨æ²¡æœ‰è¿™äº›ç»„ä»¶çš„æƒ…å†µä¸‹ä»ç„¶åŠŸèƒ½é½å…¨ä¸”å¼€æºã€‚

## è®¸å¯è¯
Deskflow-HID éµå¾ª **GNU General Public License v2.0 (GPL-2.0-only)** è®¸å¯ã€‚æ­¤é¡¹ç›®æ˜¯åŸºäº [Deskflow](https://github.com/deskflow/deskflow) çš„è¡ç”Ÿä½œå“ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ­¤å­˜å‚¨åº“ä¸­çš„ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

åŠ å…¥ Deskflow-HIDï¼Œå¼€å¯è·¨å¹³å°ç”Ÿäº§åŠ›çš„æœªæ¥ã€‚
